## 修订历史

### v17.7.12
- 大字体界面显示交换电量和时间。
- 修复大字体界面负号显示问题。

### v17.7.1
- 增加reboot命令用于重启系统。
- 去掉setbl命令，用ctrl bklt命令代替。
- TFT屏幕增加方向旋转功能，4个方向均可以使用。
- TFT屏幕增加大字体显示界面。
- 增加上电初始化菜单设置功能。

### v17.5.11
- 增加电压档测量分流器电流功能。
- 增加分流器量程设置命令iset shunt
- 增加分流器校正系数设置命令iset gain
- 短接J4右侧两位以后使用电压档测量分流器电流，无需拆掉内部检流电阻。

### v16.12.5
- 增加MODBUS协议波特率设置功能。TERM协议仍然固定使用115200波特率。
- 目前支持波特率：115200、57600、38400、19200、9600、4800、2400
- TERM协议下使用info baud命令设置。

### v16.3.29
- 增加上电按键选择LCD屏幕功能。
- 按左键上电，设置为LCD1602屏幕。
- 按右键上电，设置为TFT144屏幕。
- 两个按键同时按下上电，恢复出厂设置。
- TFT版本增加启动信息。

### v16.3.25
- 重构TERM命令行，减少命令数量。
- 增加cali命令，简化校准过程。

### v16.3.18
- 解决离线记录时间超过65536秒以后溢出问题。
- 默认电压上限改为20V。

### v16.1.14
- 增加命令回显开关命令 info echo 0/1, 降低上位机软件编写难度。
- 增加离线记录判定功能，使用log命令设置UH UL IH IL四个参数启停离线记录。

### v15.11.15
- 固件兼容1.44寸TFT屏幕，同过串口命令info lcd 0/1进行切换。
- 增加外部存储触发功能，时间间隔0xFF的时候，通过DEBUG管脚上的低电平脉冲触发离线记录。
- 零偏调整默认值改为0.

### v15.8.28
- 增加MODBUS地址设置功能，默认地址为1。
- 使用 info addr [1-247] 命令设置MODBUS地址，保存重启生效。

### v15.8.17
- 修复零偏校正导致的无法测量13V以上电压问题。

### v15.8.11
- 增加零偏校正功能，通过TERM协议下uzero和izero命令校正电压和电流零偏。

### v15.7.29
- 修复v15.7.5版本中log dump命令导出数据时看门狗复位问题，其它版本无影响。

### v15.7.5
- 电压电流校正范围扩到到0-100，可以外接分流器增大电流范围，调整校正系数即可。
- 修正校正系数过大可能引起的异常。
- EEPROM数据增加CRC校验。
- 修改PGA策略。
- 优化代码，减少闪存占用。

### v15.5.17
- LogSet界面显示最大记录条数。
- 修复离线记录导出时时间超过32768溢出问题。

### v15.4.30
- 最新代码移植到V1.0版本硬件。
- V1.0硬件不具备外部EEPROM,可以通过参数隐藏LOG界面。
- 修复拼写错误。
- STC15W4K48S4刷本固件以后，可以应用于V1.1和V1.0硬件，可通过参数屏蔽LOG界面。

### v15.4.7
- V1.1硬件第一版固件。
- MCU更换为STC15W4K48S4。
- 增加离线数据记录功能。
- 增加对高分辨率版本的支持。
- 修正档位PGA设置可能存在的问题。
- 优化EEPROM存储策略。